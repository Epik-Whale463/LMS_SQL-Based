<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Library Management System</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div id="app">
    <!-- Login/Register Container -->
    <div id="auth-container">
      <div class="auth-box">
        <div class="logo">
          <i class="fas fa-book-open"></i>
          <h1>LibraryMS</h1>
        </div>
        
        <div class="tabs">
          <button class="tab-btn active" data-tab="login">Login</button>
          <button class="tab-btn" data-tab="register">Register</button>
        </div>
        
        <div class="tab-content active" id="login-tab">
          <form id="login-form">
            <div class="form-group">
              <label for="login-username">Username</label>
              <input type="text" id="login-username" required>
            </div>
            <div class="form-group">
              <label for="login-password">Password</label>
              <input type="password" id="login-password" required>
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
            <div class="error-message" id="login-error"></div>
          </form>
        </div>
        
        <div class="tab-content" id="register-tab">
          <form id="register-form">
            <div class="form-group">
              <label for="register-username">Username</label>
              <input type="text" id="register-username" required>
            </div>
            <div class="form-group">
              <label for="register-email">Email</label>
              <input type="email" id="register-email" required>
            </div>
            <div class="form-group">
              <label for="register-fullname">Full Name</label>
              <input type="text" id="register-fullname" required>
            </div>
            <div class="form-group">
              <label for="register-password">Password</label>
              <input type="password" id="register-password" required>
            </div>
            <button type="submit" class="btn btn-primary">Register</button>
            <div class="error-message" id="register-error"></div>
          </form>
        </div>
      </div>
    </div>
    
    <!-- Main Application Container -->
    <div id="main-container" class="hidden">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="logo">
          <i class="fas fa-book-open"></i>
          <h1>LibraryMS</h1>
        </div>
        
        <nav class="menu">
          <ul>
            <li class="menu-item active" data-page="dashboard">
              <i class="fas fa-tachometer-alt"></i>
              <span>Dashboard</span>
            </li>
            <li class="menu-item" data-page="books">
              <i class="fas fa-book"></i>
              <span>Books</span>
            </li>
            <li class="menu-item" data-page="my-books">
              <i class="fas fa-bookmark"></i>
              <span>My Books</span>
            </li>
            <li class="menu-item admin-only" data-page="admin">
              <i class="fas fa-cog"></i>
              <span>Admin</span>
            </li>
            <li class="menu-item" data-page="profile">
              <i class="fas fa-user"></i>
              <span>Profile</span>
            </li>
            <li class="menu-item" id="logout-btn">
              <i class="fas fa-sign-out-alt"></i>
              <span>Logout</span>
            </li>
          </ul>
        </nav>
      </div>
      
      <!-- Main Content -->
      <div class="main-content">
        <!-- Header -->
        <header>
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" id="search-input" placeholder="Search for books...">
          </div>
          <div class="user-info">
            <span id="user-name">John Doe</span>
            <span class="user-role" id="user-role">Member</span>
          </div>
        </header>
        
        <!-- Content Pages -->
        <div class="content">
          <!-- Dashboard Page -->
          <div class="page active" id="dashboard-page">
            <h2>Dashboard</h2>
            <div class="stats-container">
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-book"></i>
                </div>
                <div class="stat-info">
                  <h3>Total Books</h3>
                  <p id="total-books">0</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-info">
                  <h3>Available Books</h3>
                  <p id="available-books">0</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                  <h3>Currently Borrowed</h3>
                  <p id="borrowed-books">0</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-exclamation-circle"></i>
                </div>
                <div class="stat-info">
                  <h3>Overdue Books</h3>
                  <p id="overdue-books">0</p>
                </div>
              </div>
            </div>
            
            <div class="dashboard-content">
              <div class="recent-books">
                <h3>Recently Added Books</h3>
                <div class="books-table-container">
                  <table id="recent-books-table">
                    <thead>
                      <tr>
                        <th>Title</th>
                        <th>Author</th>
                        <th>Category</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Dynamically populated -->
                    </tbody>
                  </table>
                </div>
              </div>
              
              <div class="top-books">
                <h3>Top Borrowed Books</h3>
                <div id="top-books-chart">
                  <!-- Chart will be rendered here -->
                </div>
              </div>
            </div>
          </div>
          
          <!-- Books Page -->
          <div class="page" id="books-page">
            <h2>Books Catalog</h2>
            
            <div class="filters">
              <div class="filter-group">
                <label for="category-filter">Category:</label>
                <select id="category-filter">
                  <option value="">All Categories</option>
                  <!-- Dynamically populated -->
                </select>
              </div>
              
              <div class="filter-group">
                <label for="author-filter">Author:</label>
                <select id="author-filter">
                  <option value="">All Authors</option>
                  <!-- Dynamically populated -->
                </select>
              </div>
              
              <div class="filter-group">
                <label for="availability-filter">Availability:</label>
                <select id="availability-filter">
                  <option value="">All</option>
                  <option value="true">Available</option>
                  <option value="false">Borrowed</option>
                </select>
              </div>
              
              <button id="apply-filters" class="btn btn-primary">Apply Filters</button>
            </div>
            
            <div class="books-grid" id="books-grid">
              <!-- Dynamically populated -->
            </div>
            
            <!-- Book Details Modal -->
            <div id="book-modal" class="modal">
              <div class="modal-content">
                <span class="close">&times;</span>
                <div class="book-details">
                  <h3 id="modal-book-title">Book Title</h3>
                  <div class="book-info">
                    <p><strong>Author:</strong> <span id="modal-book-author">Author Name</span></p>
                    <p><strong>Category:</strong> <span id="modal-book-category">Category</span></p>
                    <p><strong>ISBN:</strong> <span id="modal-book-isbn">1234567890</span></p>
                    <p><strong>Published Year:</strong> <span id="modal-book-year">2023</span></p>
                    <p><strong>Status:</strong> <span id="modal-book-status">Available</span></p>
                  </div>
                  <div class="book-actions">
                    <button id="borrow-book-btn" class="btn btn-primary">Borrow Book</button>
                    <div id="due-date-selector" class="hidden">
                      <label for="due-days">Return after (days):</label>
                      <select id="due-days">
                        <option value="7">7 days</option>
                        <option value="14" selected>14 days</option>
                        <option value="30">30 days</option>
                      </select>
                      <button id="confirm-borrow-btn" class="btn btn-primary">Confirm</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- My Books Page -->
          <div class="page" id="my-books-page">
            <h2>My Books</h2>
            
            <div class="tabs">
              <button class="tab-btn active" data-tab="current">Currently Borrowed</button>
              <button class="tab-btn" data-tab="history">Borrowing History</button>
            </div>
            
            <div class="tab-content active" id="current-tab">
              <div class="books-table-container">
                <table id="current-books-table">
                  <thead>
                    <tr>
                      <th>Title</th>
                      <th>Author</th>
                      <th>Borrow Date</th>
                      <th>Due Date</th>
                      <th>Status</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Dynamically populated -->
                  </tbody>
                </table>
              </div>
            </div>
            
            <div class="tab-content" id="history-tab">
              <div class="books-table-container">
                <table id="history-books-table">
                  <thead>
                    <tr>
                      <th>Title</th>
                      <th>Author</th>
                      <th>Borrow Date</th>
                      <th>Due Date</th>
                      <th>Return Date</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Dynamically populated -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          
          <!-- Admin Page -->
          <div class="page admin-only" id="admin-page">
            <h2>Admin Dashboard</h2>
            
            <div class="tabs">
              <button class="tab-btn active" data-tab="manage-books">Manage Books</button>
              <button class="tab-btn" data-tab="manage-users">Manage Users</button>
              <button class="tab-btn" data-tab="manage-authors">Manage Authors</button>
              <button class="tab-btn" data-tab="manage-categories">Manage Categories</button>
              <button class="tab-btn" data-tab="overdue-books">Overdue Books</button>
            </div>
            
            <!-- Manage Books Tab -->
            <div class="tab-content active" id="manage-books-tab">
              <div class="action-bar">
                <button id="add-book-btn" class="btn btn-primary">Add New Book</button>
              </div>
              
              <div class="books-table-container">
                <table id="admin-books-table">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Title</th>
                      <th>Author</th>
                      <th>Category</th>
                      <th>ISBN</th>
                      <th>Status</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Dynamically populated -->
                  </tbody>
                </table>
              </div>
              
              <!-- Add/Edit Book Modal -->
              <div id="admin-book-modal" class="modal">
                <div class="modal-content">
                  <span class="close">&times;</span>
                  <h3 id="book-modal-title">Add New Book</h3>
                  <form id="book-form">
                    <input type="hidden" id="book-id">
                    <div class="form-group">
                      <label for="book-title">Title</label>
                      <input type="text" id="book-title" required>
                    </div>
                    <div class="form-group">
                      <label for="book-author">Author</label>
                      <select id="book-author" required>
                        <!-- Dynamically populated -->
                      </select>
                    </div>
                    <div class="form-group">
                      <label for="book-category">Category</label>
                      <select id="book-category" required>
                        <!-- Dynamically populated -->
                      </select>
                    </div>
                    <div class="form-group">
                      <label for="book-isbn">ISBN</label>
                      <input type="text" id="book-isbn">
                    </div>
                    <div class="form-group">
                      <label for="book-year">Published Year</label>
                      <input type="number" id="book-year" min="1000" max="2099">
                    </div>
                    <button type="submit" class="btn btn-primary">Save</button>
                  </form>
                </div>
              </div>
            </div>
            
            <!-- Manage Users Tab -->
            <div class="tab-content" id="manage-users-tab">
              <div class="action-bar">
                <button id="add-user-btn" class="btn btn-primary">Add New User</button>
              </div>
              
              <div class="users-table-container">
                <table id="users-table">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Username</th>
                      <th>Email</th>
                      <th>Full Name</th>
                      <th>Role</th>
                      <th>Books Borrowed</th>
                      <th>Overdue</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Dynamically populated -->
                  </tbody>
                </table>
              </div>
              
              <!-- Add User Modal -->
              <div id="user-modal" class="modal">
                <div class="modal-content">
                  <span class="close">&times;</span>
                  <h3>Add New User</h3>
                  <form id="user-form">
                    <div class="form-group">
                      <label for="user-username">Username</label>
                      <input type="text" id="user-username" required>
                    </div>
                    <div class="form-group">
                      <label for="user-email">Email</label>
                      <input type="email" id="user-email" required>
                    </div>
                    <div class="form-group">
                      <label for="user-fullname">Full Name</label>
                      <input type="text" id="user-fullname" required>
                    </div>
                    <div class="form-group">
                      <label for="user-password">Password</label>
                      <input type="password" id="user-password" required>
                    </div>
                    <div class="form-group">
                      <label for="user-role">Role</label>
                      <select id="user-role" required>
                        <option value="member">Member</option>
                        <option value="admin">Admin</option>
                      </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Save</button>
                  </form>
                </div>
              </div>
            </div>
            
            <!-- Manage Authors Tab -->
            <div class="tab-content" id="manage-authors-tab">
              <div class="action-bar">
                <button id="add-author-btn" class="btn btn-primary">Add New Author</button>
              </div>
              
              <div class="authors-table-container">
                <table id="authors-table">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Name</th>
                      <th>Bio</th>
                      <th>Books Count</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Dynamically populated -->
                  </tbody>
                </table>
              </div>
              
              <!-- Add Author Modal -->
              <div id="author-modal" class="modal">
                <div class="modal-content">
                  <span class="close">&times;</span>
                  <h3>Add New Author</h3>
                  <form id="author-form">
                    <div class="form-group">
                      <label for="author-name">Name</label>
                      <input type="text" id="author-name" required>
                    </div>
                    <div class="form-group">
                      <label for="author-bio">Bio</label>
                      <textarea id="author-bio" rows="4"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Save</button>
                  </form>
                </div>
              </div>
            </div>
            
            <!-- Manage Categories Tab -->
            <div class="tab-content" id="manage-categories-tab">
              <div class="action-bar">
                <button id="add-category-btn" class="btn btn-primary">Add New Category</button>
              </div>
              
              <div class="categories-table-container">
                <table id="categories-table">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Name</th>
                      <th>Books Count</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Dynamically populated -->
                  </tbody>
                </table>
              </div>
              
              <!-- Add Category Modal -->
              <div id="category-modal" class="modal">
                <div class="modal-content">
                  <span class="close">&times;</span>
                  <h3>Add New Category</h3>
                  <form id="category-form">
                    <div class="form-group">
                      <label for="category-name">Name</label>
                      <input type="text" id="category-name" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Save</button>
                  </form>
                </div>
              </div>
            </div>
            
            <!-- Overdue Books Tab -->
            <div class="tab-content" id="overdue-books-tab">
              <div class="overdue-books-container">
                <table id="overdue-books-table">
                  <thead>
                    <tr>
                      <th>User</th>
                      <th>Book</th>
                      <th>Borrow Date</th>
                      <th>Due Date</th>
                      <th>Days Overdue</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Dynamically populated -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          
          <!-- Profile Page -->
          <div class="page" id="profile-page">
            <h2>My Profile</h2>
            
            <div class="profile-container">
              <div class="profile-card">
                <div class="profile-header">
                  <div class="profile-avatar">
                    <i class="fas fa-user"></i>
                  </div>
                  <div class="profile-info">
                    <h3 id="profile-name">John Doe</h3>
                    <p id="profile-role">Member</p>
                  </div>
                </div>
                
                <div class="profile-details">
                  <div class="detail-item">
                    <span class="detail-label">Username:</span>
                    <span id="profile-username">johndoe</span>
                  </div>
                  <div class="detail-item">
                    <span class="detail-label">Email:</span>
                    <span id="profile-email">john@example.com</span>
                  </div>
                  <div class="detail-item">
                    <span class="detail-label">Joined:</span>
                    <span id="profile-joined">Jan 1, 2023</span>
                  </div>
                </div>
                
                <div class="profile-stats">
                  <div class="stat-item">
                    <span class="stat-value" id="profile-total-borrowed">0</span>
                    <span class="stat-label">Total Borrowed</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-value" id="profile-currently-borrowed">0</span>
                    <span class="stat-label">Currently Borrowed</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-value" id="profile-overdue">0</span>
                    <span class="stat-label">Overdue</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Toast Notification -->
  <div id="toast" class="toast">
    <div class="toast-content">
      <i id="toast-icon" class="fas fa-info-circle"></i>
      <div class="toast-message" id="toast-message">This is a notification</div>
    </div>
    <div class="toast-progress"></div>
  </div>
  
  <!-- JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/app.js"></script>
  <script src="js/books.js"></script>
  <script src="js/admin.js"></script>
  <script src="js/profile.js"></script>
</body>
</html> 